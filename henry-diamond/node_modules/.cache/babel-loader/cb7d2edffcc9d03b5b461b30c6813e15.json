{"ast":null,"code":"import React from \"react\";\nimport { FILTER, URL, GET_PRODUCT, ALL_ITEMS, ALL_CAREGORY, ALL_SUBCATEGORY } from \"./typeActions\"; // import {getProduct} from '../../../../PF-G1-BACKEND/src/controllers/productControllers'\n\nimport axios from \"axios\"; // const axios = require('axios')\n\nexport function getAllProduct(name) {\n  // console.log('estoy en la action'\n  return async dispatch => {\n    let allProducts = await axios.get(`http://localhost:3001/product?name=${name}`);\n    console.log(allProducts);\n    return dispatch({\n      type: GET_PRODUCT,\n      payload: allProducts.data\n    });\n  };\n}\nexport function getAllItems() {\n  let desde = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  let limite = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 8;\n  return async dispatch => {\n    let allItems = await axios.get(`${URL}product/pagination?desde=${desde}&limite=${limite}`);\n    return dispatch({\n      type: ALL_ITEMS,\n      payload: allItems.data\n    });\n  };\n}\nexport const FilterBy = _ref => {\n  let {\n    category,\n    subcategory,\n    limite,\n    desde\n  } = _ref;\n\n  if (limite) {\n    return async dispatch => {\n      let filterProducts = await axios.get(`${URL}product/category?category=${category}&subcategory=${subcategory}&limite=${limite}&desde=${desde}`);\n      console.log(filterProducts);\n      return dispatch({\n        type: FILTER,\n        payload: filterProducts.data\n      });\n    };\n  } else {\n    return async dispatch => {\n      let filterProducts = await axios.get(`${URL}product/category?category=${category}&subcategory=${subcategory}&desde=${desde}`);\n      console.log(filterProducts);\n      return dispatch({\n        type: FILTER,\n        payload: filterProducts.data\n      });\n    };\n  }\n};\n_c = FilterBy;\nexport const Category = () => {\n  return dispatch => {\n    axios.get(`${URL}category`).then(res => {\n      dispatch({\n        type: ALL_CAREGORY,\n        payload: res.data\n      });\n    });\n  };\n};\n_c2 = Category;\nexport const SubCategory = () => {\n  return dispatch => {\n    axios.get(`${URL}subcategory`).then(res => {\n      dispatch({\n        type: ALL_SUBCATEGORY,\n        payload: res.data\n      });\n    });\n  };\n};\n_c3 = SubCategory;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"FilterBy\");\n$RefreshReg$(_c2, \"Category\");\n$RefreshReg$(_c3, \"SubCategory\");","map":{"version":3,"names":["React","FILTER","URL","GET_PRODUCT","ALL_ITEMS","ALL_CAREGORY","ALL_SUBCATEGORY","axios","getAllProduct","name","dispatch","allProducts","get","console","log","type","payload","data","getAllItems","desde","limite","allItems","FilterBy","category","subcategory","filterProducts","Category","then","res","SubCategory"],"sources":["E:/Proyecto grupal/PF-G1-FRONTEND/henry-diamond/src/actions/actions.js"],"sourcesContent":["import React from \"react\";\r\nimport {\r\n    FILTER,\r\n    URL,\r\n    GET_PRODUCT,\r\n    ALL_ITEMS,\r\n    ALL_CAREGORY,\r\n    ALL_SUBCATEGORY\r\n} from \"./typeActions\";\r\n// import {getProduct} from '../../../../PF-G1-BACKEND/src/controllers/productControllers'\r\nimport axios from \"axios\";\r\n\r\n\r\n// const axios = require('axios')\r\n\r\n\r\nexport function getAllProduct(name){\r\n    // console.log('estoy en la action'\r\n    return async (dispatch) =>{\r\n        let allProducts = await axios.get(`http://localhost:3001/product?name=${name}`)\r\n        console.log(allProducts)\r\n        return dispatch({\r\n            type: GET_PRODUCT,\r\n            payload: allProducts.data\r\n            \r\n        })\r\n    }\r\n}\r\n\r\nexport function getAllItems(desde=0,limite=8){\r\n    return async (dispatch) =>{\r\n        let allItems = await axios.get(`${URL}product/pagination?desde=${desde}&limite=${limite}`)\r\n        return dispatch({\r\n            type: ALL_ITEMS,\r\n            payload: allItems.data\r\n            \r\n        })\r\n    }\r\n}\r\n\r\nexport const FilterBy = ({category,subcategory,limite,desde}) => {\r\n    if(limite){\r\n        return async (dispatch) => {\r\n            let filterProducts = await axios.get (`${URL}product/category?category=${category}&subcategory=${subcategory}&limite=${limite}&desde=${desde}`)\r\n            console.log(filterProducts)\r\n            return dispatch ({\r\n                type: FILTER,\r\n                payload: filterProducts.data\r\n            })        \r\n    }}else{\r\n        return async (dispatch) => {\r\n            let filterProducts = await axios.get (`${URL}product/category?category=${category}&subcategory=${subcategory}&desde=${desde}`)\r\n            console.log(filterProducts)\r\n            return dispatch ({\r\n                type: FILTER,\r\n                payload: filterProducts.data\r\n            }) \r\n    }\r\n        \r\n    }\r\n}\r\n\r\n\r\n\r\nexport const Category = ()=>{\r\n    return dispatch => {\r\n        axios\r\n        .get (`${URL}category`)\r\n        .then((res) => {\r\n           \r\n        dispatch ({\r\n            type: ALL_CAREGORY,\r\n            payload: res.data\r\n        })        \r\n        })\r\n    }\r\n\r\n}\r\nexport const SubCategory = ()=>{\r\n    return dispatch => {\r\n        axios\r\n        .get (`${URL}subcategory`)\r\n        .then((res) => {\r\n         \r\n        dispatch ({\r\n            type: ALL_SUBCATEGORY,\r\n            payload: res.data\r\n        })        \r\n        })\r\n    }\r\n\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACIC,MADJ,EAEIC,GAFJ,EAGIC,WAHJ,EAIIC,SAJJ,EAKIC,YALJ,EAMIC,eANJ,QAOO,eAPP,C,CAQA;;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAGA;;AAGA,OAAO,SAASC,aAAT,CAAuBC,IAAvB,EAA4B;EAC/B;EACA,OAAO,MAAOC,QAAP,IAAmB;IACtB,IAAIC,WAAW,GAAG,MAAMJ,KAAK,CAACK,GAAN,CAAW,sCAAqCH,IAAK,EAArD,CAAxB;IACAI,OAAO,CAACC,GAAR,CAAYH,WAAZ;IACA,OAAOD,QAAQ,CAAC;MACZK,IAAI,EAAEZ,WADM;MAEZa,OAAO,EAAEL,WAAW,CAACM;IAFT,CAAD,CAAf;EAKH,CARD;AASH;AAED,OAAO,SAASC,WAAT,GAAsC;EAAA,IAAjBC,KAAiB,uEAAX,CAAW;EAAA,IAATC,MAAS,uEAAF,CAAE;EACzC,OAAO,MAAOV,QAAP,IAAmB;IACtB,IAAIW,QAAQ,GAAG,MAAMd,KAAK,CAACK,GAAN,CAAW,GAAEV,GAAI,4BAA2BiB,KAAM,WAAUC,MAAO,EAAnE,CAArB;IACA,OAAOV,QAAQ,CAAC;MACZK,IAAI,EAAEX,SADM;MAEZY,OAAO,EAAEK,QAAQ,CAACJ;IAFN,CAAD,CAAf;EAKH,CAPD;AAQH;AAED,OAAO,MAAMK,QAAQ,GAAG,QAAyC;EAAA,IAAxC;IAACC,QAAD;IAAUC,WAAV;IAAsBJ,MAAtB;IAA6BD;EAA7B,CAAwC;;EAC7D,IAAGC,MAAH,EAAU;IACN,OAAO,MAAOV,QAAP,IAAoB;MACvB,IAAIe,cAAc,GAAG,MAAMlB,KAAK,CAACK,GAAN,CAAY,GAAEV,GAAI,6BAA4BqB,QAAS,gBAAeC,WAAY,WAAUJ,MAAO,UAASD,KAAM,EAAlH,CAA3B;MACAN,OAAO,CAACC,GAAR,CAAYW,cAAZ;MACA,OAAOf,QAAQ,CAAE;QACbK,IAAI,EAAEd,MADO;QAEbe,OAAO,EAAES,cAAc,CAACR;MAFX,CAAF,CAAf;IAIP,CAPG;EAOF,CARF,MAQM;IACF,OAAO,MAAOP,QAAP,IAAoB;MACvB,IAAIe,cAAc,GAAG,MAAMlB,KAAK,CAACK,GAAN,CAAY,GAAEV,GAAI,6BAA4BqB,QAAS,gBAAeC,WAAY,UAASL,KAAM,EAAjG,CAA3B;MACAN,OAAO,CAACC,GAAR,CAAYW,cAAZ;MACA,OAAOf,QAAQ,CAAE;QACbK,IAAI,EAAEd,MADO;QAEbe,OAAO,EAAES,cAAc,CAACR;MAFX,CAAF,CAAf;IAIP,CAPG;EASH;AACJ,CApBM;KAAMK,Q;AAwBb,OAAO,MAAMI,QAAQ,GAAG,MAAI;EACxB,OAAOhB,QAAQ,IAAI;IACfH,KAAK,CACJK,GADD,CACO,GAAEV,GAAI,UADb,EAECyB,IAFD,CAEOC,GAAD,IAAS;MAEflB,QAAQ,CAAE;QACNK,IAAI,EAAEV,YADA;QAENW,OAAO,EAAEY,GAAG,CAACX;MAFP,CAAF,CAAR;IAIC,CARD;EASH,CAVD;AAYH,CAbM;MAAMS,Q;AAcb,OAAO,MAAMG,WAAW,GAAG,MAAI;EAC3B,OAAOnB,QAAQ,IAAI;IACfH,KAAK,CACJK,GADD,CACO,GAAEV,GAAI,aADb,EAECyB,IAFD,CAEOC,GAAD,IAAS;MAEflB,QAAQ,CAAE;QACNK,IAAI,EAAET,eADA;QAENU,OAAO,EAAEY,GAAG,CAACX;MAFP,CAAF,CAAR;IAIC,CARD;EASH,CAVD;AAYH,CAbM;MAAMY,W"},"metadata":{},"sourceType":"module"}